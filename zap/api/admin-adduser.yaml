!AUTORUN
# ZAP Autorun file â€” this is the ONLY way that works 100% in GitHub Actions right now

# Load the OpenAPI definition
- import /zap/wrk/zap/api/openapi.yaml

# Load and enable the HTTP Sender script that forces your token
- script load /zap/wrk/zap/scripts/add-auth-header.js -type httpsender
- script enable add-auth-header.js

# Start active scan on the imported API
- ascan enableAllScanners
- ascan scan https://demo.testfire.net

# Generate reports
- report -o /zap/wrk/report_html.html -format html
- report -o /zap/wrk/report_json.json -format json
